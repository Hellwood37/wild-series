{% extends 'base.html.twig' %}

{% block title %}
  Episode {{ episode.number }}: {{ episode.title }}
{% endblock %}

{% block body %}
  <h1>
    Episode {{ episode.number }}: {{ episode.title }}
  </h1>
  <p>
    SÃ©rie : {{ program.title }}
  </p>
  <p>
    Saison : {{ season.number }}
  </p>
  <p>
    Synopsis:
  </p>
  <p>
    {{ episode.synopsis }}
  </p>
  <h3>
    Commentaires :
  </h3>
  <table class="table">
    <thead>
      <tr>
        <th>
          Id
        </th>
        <th>
          Comment
        </th>
        <th>
          Rate
        </th>
        <th>
          actions
        </th>
      </tr>
    </thead>
    <tbody>
      {% for comment in comments %}
        <tr>
          <td>
            {{ comment.id }}
          </td>
          <td>
            {{ comment.comment }}
          </td>
          <td>
            {{ comment.rate }}
          </td>
          <td>
            {% if app.user %}
              <a href="{{
                path(
                  'comment_show',
                  {
                    id: comment.id
                  }
                )
                }}">
                show
              </a>
              <a href="{{
                path(
                  'comment_edit',
                  {
                    id: comment.id
                  }
                )
                }}">
                edit
              </a>
            {% endif %}
          </td>
        </tr>
      {% else %}
        <tr>
          <td colspan="4">
            no records found
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  {% if app.user %}
    <a href="{{ path('comment_new') }}">Add new comment</a>
  {% endif %}
{% endblock %}
