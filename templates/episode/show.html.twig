{% extends 'base.html.twig' %}

{% block title %}
  Episode
{% endblock %}

{% block body %}
  <h1>
    Episode
  </h1>

  <table class="table">
    <tbody>
      <tr>
        <th>
          Id
        </th>
        <td>
          {{ episode.id }}
        </td>
      </tr>
      <tr>
        <th>
          Title
        </th>
        <td>
          {{ episode.title }}
        </td>
      </tr>
      <tr>
        <th>
          Number
        </th>
        <td>
          {{ episode.number }}
        </td>
      </tr>
      <tr>
        <th>
          Synopsis
        </th>
        <td>
          {{ episode.synopsis }}
        </td>
      </tr>
      <h3>
        Commentaires :
      </h3>
      <table class="table">
        <thead>
          <tr>
            <th>
              Id
            </th>
            <th>
              Comment
            </th>
            <th>
              Rate
            </th>
            <th>
              actions
            </th>
          </tr>
        </thead>
        <tbody>
          {% for comment in comments %}
            <tr>
              <td>
                {{ comment.id }}
              </td>
              <td>
                {{ comment.comment }}
              </td>
              <td>
                {{ comment.rate }}
              </td>
              <td>
                {% if app.user %}
                  <a href="{{
                    path(
                      'comment_show',
                      {
                        id: comment.id
                      }
                    )
                    }}">
                    show
                  </a>
                  <a href="{{
                    path(
                      'comment_edit',
                      {
                        id: comment.id
                      }
                    )
                    }}">
                    edit
                  </a>
                {% endif %}
              </td>
            </tr>
          {% else %}
            <tr>
              <td colspan="4">
                no records found
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
      {% if app.user %}
        <a href="{{ path('comment_new') }}">Add new comment</a>
      {% endif %}
    </tbody>
  </table>

  <a href="{{ path('episode_index') }}">back to list</a>

  <a href="{{
    path(
      'episode_edit',
      {
        episode: episode.slug
      }
    )
    }}">
    edit
  </a>

  {{ include('episode/_delete_form.html.twig') }}
{% endblock %}
